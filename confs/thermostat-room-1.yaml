api:
  actions:
    - action: set_climate_temperature_room_1
      variables:
        temperature: float
      then:
        - lambda: |-
            id(ecodan_instance).set_room_thermostat_current_temp(temperature, 1);


climate:
  - platform: ecodan
    heatpump_climate_room_1:
      name: heatpump_climate_room_1
      id: heatpump_climate_room_1
      room_identifier: 1
      thermostat_climate_mode: true
      get_status_func: |-
        return id(ecodan_instance).get_status();
      get_target_temp_func: |-
        auto& status = id(ecodan_instance).get_status();
        return status.TargetRoomTemperatures[1] != 0xff ? status.TargetRoomTemperatures[1] : 0.0f;
      target_temp_func: |-
        id(ecodan_instance).set_room_thermostat_target_temp(x, esphome::ecodan::ClimateRoomIdentifier::ROOM_1);
      current_temp_func: |-
        auto& status = id(ecodan_instance).get_status();
        return status.CurrentRoomTemperatures[1] != 0xff ? status.CurrentRoomTemperatures[1] : 0.0f;
